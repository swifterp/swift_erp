<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="resources.mapper.selectListMapper">
	<select id="getEmpList" resultType="hashmap">		
        select e.emp_number, e.emp_name, e.emp_email, e.emp_resident_number, d.dname, r.rank_name, e.emp_join_date 
        from employee e, dept d, rank r
        where d.deptno=e.deptno and r.rank_no=e.rank_no
        order by e.emp_number
	</select>
	<select id="getEmpView" parameterType="Integer" resultType="hashmap">		
        select e.emp_number, e.emp_name, e.emp_email, e.emp_resident_number, d.dname, r.rank_name, e.emp_join_date 
        from employee e, dept d, rank r
        where d.deptno=e.deptno and r.rank_no=e.rank_no and e.emp_number = #{emp_number}
	</select>
	<select id="getEmpNumList" resultType="hashmap">		
        select e.emp_number, e.emp_name, d.dname
        from employee e, dept d
	</select>
	<select id="getDeptList" resultType="hashmap">		
        select deptno,dname
        from dept
	</select>
		<select id="getDeptView" parameterType="Integer" resultType="hashmap">		
        select deptno
        from dept
        where deptno = #{deptno}
	</select>
	<select id="getEmpData" parameterType="String" resultType="hashmap">
		select e.emp_number, e.emp_name, e.emp_email, e.emp_resident_number, d.dname, r.rank_name, e.emp_join_date 
        from employee e, dept d, rank r
        where d.deptno=e.deptno 
        and r.rank_no=e.rank_no
        and (e.emp_name like '%'||#{empinfo, jdbcType=VARCHAR}||'%' or d.dname like '%'||#{empinfo, jdbcType=VARCHAR}||'%')
        order by e.emp_number
	</select>
</mapper>